<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ð’Ñ…Ð¾Ð´ â€” MurodTrader</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="../assets/css/login-style.css">
</head>
<body style="background: var(--bg-primary);">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const secureAuth = {
            u: [116, 114, 97, 100, 101, 114],
            p: [77, 117, 114, 111, 100, 55, 55, 55]
        };

        const decodeSecureData = (data) => data.map(code => String.fromCharCode(code)).join('');

        function LoginPage() {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            const validateCredentials = (inputUsername, inputPassword) => {
                try {
                    const realUsername = decodeSecureData(secureAuth.u);
                    const realPassword = decodeSecureData(secureAuth.p);
                    return inputUsername === realUsername && inputPassword === realPassword;
                } catch (err) {
                    console.error('Auth error:', err);
                    return false;
                }
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!username.trim() || !password.trim()) {
                    setError('Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ');
                    return;
                }

                setIsLoading(true);
                setError('');

                try {
                    await new Promise(resolve => setTimeout(resolve, 800));
                    const isValid = validateCredentials(username, password);
                    if (isValid) {
                        sessionStorage.setItem('cryptoview_loggedIn', 'true');
                        window.location.href = 'home.html';
                    } else {
                        setError('ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ');
                    }
                } catch (err) {
                    setError('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ð´Ð°Ð½Ð½Ñ‹Ñ…');
                    console.error('Login error:', err);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                React.createElement('div', { className: 'react-login-modal' },
                    React.createElement('div', { className: 'react-login-background' }),
                    React.createElement('div', { className: 'react-login-container' },
                        React.createElement('h2', { className: 'react-login-title' }, 'MurodTrader'),
                        React.createElement('p', { className: 'react-login-subtitle' }, 'Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐµ ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²Ð°Ð»ÑŽÑ‚'),
                        React.createElement('form', { className: 'react-login-form', onSubmit: handleSubmit },
                            React.createElement('div', { className: 'react-form-group' },
                                React.createElement('label', { className: 'react-form-label', htmlFor: 'react-username' }, 'Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ'),
                                React.createElement('input', {
                                    type: 'text', id: 'react-username', className: 'react-form-input',
                                    value: username, onChange: (e) => setUsername(e.target.value),
                                    placeholder: 'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ', required: true,
                                    disabled: isLoading, autoComplete: 'username'
                                })
                            ),
                            React.createElement('div', { className: 'react-form-group' },
                                React.createElement('label', { className: 'react-form-label', htmlFor: 'react-password' }, 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ'),
                                React.createElement('input', {
                                    type: 'password', id: 'react-password', className: 'react-form-input',
                                    value: password, onChange: (e) => setPassword(e.target.value),
                                    placeholder: 'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ', required: true, disabled: isLoading,
                                    autoComplete: 'current-password'
                                })
                            ),
                            React.createElement('button', { type: 'submit', className: 'react-login-btn', disabled: isLoading }, isLoading ? 'ðŸ”„ Ð’Ñ…Ð¾Ð´...' : 'Ð’Ð¾Ð¹Ñ‚Ð¸'),
                            error && React.createElement('div', { className: 'react-login-error' }, error)
                        )
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(LoginPage));
    </script>
</body>
</html>


